{% if query %}
<section aria-labelledby="results-heading">
    <figure class="mb-2" hidden> <!-- Unhide for debug -->
        <figcaption id="results-heading" class="font-semibold">Results for:</figcaption>
        <pre
            class="mt-2 p-3 bg-gray-50 rounded-md shadow-sm border border-gray-200  whitespace-pre-wrap">"{{ query | e }}"</pre>
    </figure>

    {% if results_for_query %}
    <ul class="space-y-3">
        {% for result in results_for_query %}
        <li class="p-3 bg-gray-50 rounded-md shadow-sm border border-gray-200">
            <span class="text-gray-500">{{ "%.0f%%"|format(result.score * 100) }}</span>
            <a href="{{ base_url }}{{ result.payload.original_id | e }}" target="_blank"
                class="text-blue-600 hover:underline">{{ result.payload.original_id | e }}</a>
            <b>{{ result.payload.class_name | e }}</b>
            <br><span class="text-gray-600">{{ result.payload.definition | e }}</span>
        </li>
        {% endfor %}
    </ul>
    <div class="mt-3 text-sm text-gray-500 text-left">
        {% if total_request_time is not none %}
        <span>Total request time: {{ "%.3f"|format(total_request_time) }}s</span>
        {% endif %}
    </div>
    {% else %}
    <div>
        <p class="text-left text-gray-500 text-sm">No similar items found.</p>
    </div>
    {% endif %}
</section>

{% else %}
<section>
    <p class="text-left text-gray-500 text-sm">Please enter a product description to classify.</p>
</section>
{% endif %}